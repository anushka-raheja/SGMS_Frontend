{"ast":null,"code":"var _jsxFileName = \"/Users/anushka/Desktop/sgms/client/src/components/groupcard.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GroupCard = ({\n  group: {\n    _id,\n    name,\n    subject,\n    members = [],\n    admins = [],\n    joinRequests = [],\n    isPublic,\n    description\n  },\n  currentUserId,\n  onJoinGroup,\n  onJoinRequest,\n  joiningId,\n  error\n}) => {\n  var _admins$;\n  console.log('Current Group:', name);\n  console.log('Current User ID:', currentUserId);\n  console.log('Group Members:', members);\n  const isMember = members.some(member => {\n    if (typeof member === 'object') {\n      var _member$_id;\n      return ((_member$_id = member._id) === null || _member$_id === void 0 ? void 0 : _member$_id.toString()) === (currentUserId === null || currentUserId === void 0 ? void 0 : currentUserId.toString());\n    }\n    return (member === null || member === void 0 ? void 0 : member.toString()) === (currentUserId === null || currentUserId === void 0 ? void 0 : currentUserId.toString());\n  });\n  console.log('Final isMember Result:', isMember);\n  const isAdmin = admins.some(admin => {\n    if (typeof admin === 'object') {\n      var _admin$_id;\n      return ((_admin$_id = admin._id) === null || _admin$_id === void 0 ? void 0 : _admin$_id.toString()) === (currentUserId === null || currentUserId === void 0 ? void 0 : currentUserId.toString());\n    }\n    return (admin === null || admin === void 0 ? void 0 : admin.toString()) === (currentUserId === null || currentUserId === void 0 ? void 0 : currentUserId.toString());\n  });\n  const adminName = ((_admins$ = admins[0]) === null || _admins$ === void 0 ? void 0 : _admins$.name) || 'Unknown';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `group-card ${isPublic ? 'public' : 'private'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"group-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"group-title\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"privacy-badge\",\n        children: isPublic ? 'Public' : 'Private'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"group-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"group-subject\",\n        children: subject\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"group-description\",\n        children: isPublic ? description : 'Join to view details'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"group-meta\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"members-count\",\n          children: [\"\\uD83D\\uDC65 \", members.length, \" member\", members.length !== 1 ? 's' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-info\",\n          children: [\"Admin: \", adminName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), !isMember && isPublic && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"group-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"join-button\",\n        onClick: () => onJoinGroup(_id),\n        disabled: joiningId === _id,\n        children: joiningId === _id ? 'Joining...' : 'Join Group'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), (error === null || error === void 0 ? void 0 : error.groupId) === _id && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), !isPublic && !isMember && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"group-actions\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"request-button\",\n        onClick: () => onJoinRequest(_id),\n        disabled: joinRequests.includes(currentUserId),\n        children: joinRequests.includes(currentUserId) ? 'Request Pending' : 'Request to Join'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-badge\",\n      children: \"You are an admin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/groups/${_id}`,\n      children: \"View Group Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_c = GroupCard;\nexport default _c2 = /*#__PURE__*/React.memo(GroupCard);\nvar _c, _c2;\n$RefreshReg$(_c, \"GroupCard\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","Link","jsxDEV","_jsxDEV","GroupCard","group","_id","name","subject","members","admins","joinRequests","isPublic","description","currentUserId","onJoinGroup","onJoinRequest","joiningId","error","_admins$","console","log","isMember","some","member","_member$_id","toString","isAdmin","admin","_admin$_id","adminName","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick","disabled","groupId","message","includes","to","_c","_c2","memo","$RefreshReg$"],"sources":["/Users/anushka/Desktop/sgms/client/src/components/groupcard.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nconst GroupCard = ({ \n  group: {\n    _id,\n    name,\n    subject,\n    members = [],\n    admins = [],\n    joinRequests = [],\n    isPublic,\n    description\n  },\n  currentUserId,\n  onJoinGroup,\n  onJoinRequest,\n  joiningId,\n  error\n}) => {\n    console.log('Current Group:', name);\n    console.log('Current User ID:', currentUserId);\n  console.log('Group Members:', members);\n  const isMember = members.some(member => {\n    if (typeof member === 'object') {\n      return member._id?.toString() === currentUserId?.toString();\n    }\n    return member?.toString() === currentUserId?.toString();\n  });\n  console.log('Final isMember Result:', isMember);\n  const isAdmin = admins.some(admin => {\n    if (typeof admin === 'object') {\n      return admin._id?.toString() === currentUserId?.toString();\n    }\n    return admin?.toString() === currentUserId?.toString();\n  });\n\n  const adminName = admins[0]?.name || 'Unknown';\n\n  return (\n    <div className={`group-card ${isPublic ? 'public' : 'private'}`}>\n      <div className=\"group-header\">\n        <h3 className=\"group-title\">{name}</h3>\n        <span className=\"privacy-badge\">\n          {isPublic ? 'Public' : 'Private'}\n        </span>\n      </div>\n\n      <div className=\"group-content\">\n        <p className=\"group-subject\">{subject}</p>\n        <p className=\"group-description\">{isPublic ? description : 'Join to view details'}</p>\n        \n        <div className=\"group-meta\">\n          <span className=\"members-count\">\n            ðŸ‘¥ {members.length} member{members.length !== 1 ? 's' : ''}\n          </span>\n          <span className=\"admin-info\">\n            Admin: {adminName}\n          </span>\n        </div>\n      </div>\n\n      {!isMember && isPublic && (\n        <div className=\"group-actions\">\n          <button \n            className=\"join-button\"\n            onClick={() => onJoinGroup(_id)}\n            disabled={joiningId === _id}\n          >\n            {joiningId === _id ? 'Joining...' : 'Join Group'}\n          </button>\n          {error?.groupId === _id && (\n            <p className=\"error-message\">{error.message}</p>\n          )}\n        </div>\n      )}\n\n      {!isPublic && !isMember && (\n        <div className=\"group-actions\">\n          <button \n            className=\"request-button\"\n            onClick={() => onJoinRequest(_id)}\n            disabled={joinRequests.includes(currentUserId)}\n          >\n            {joinRequests.includes(currentUserId) \n              ? 'Request Pending' \n              : 'Request to Join'}\n          </button>\n        </div>\n      )}\n\n      {isAdmin && (\n        <div className=\"admin-badge\">You are an admin</div>\n      )}\n      <Link to={`/groups/${_id}`}>\n        View Group Page\n      </Link>\n    </div>\n  );\n};\n\nexport default React.memo(GroupCard);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}